{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\zaki\\\\Desktop\\\\Node p\\\\movie-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\zaki\\\\Desktop\\\\Node p\\\\movie-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\zaki\\\\Desktop\\\\Node p\\\\movie-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\zaki\\\\Desktop\\\\Node p\\\\movie-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\zaki\\\\Desktop\\\\Node p\\\\movie-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\zaki\\\\Desktop\\\\Node p\\\\movie-app\\\\src\\\\components\\\\homePage\\\\Home.jsx\";\nimport React, { Component } from \"react\";\nimport \"./homePage.scss\";\nimport { connect } from \"react-redux\";\nimport 'materialize-css/dist/css/materialize.min.css';\nimport M from 'materialize-css';\nimport { SearchMovie1 } from \"../redux/actions/actions\";\nvar image = \"https://image.tmdb.org/t/p/w500\";\n\nvar Home =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Home, _Component);\n\n  function Home() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Home);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Home)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      movies: []\n    };\n    return _this;\n  }\n\n  _createClass(Home, [{\n    key: \"performSearch\",\n    value: function performSearch(searchTerm) {\n      var _this2 = this;\n\n      console.log(\"its working yo\"); // const urls = \"http://www.omdbapi.com/?i=tt3896198&apikey=b5a67d6c&s=\" + searchTerm\n\n      var urls = \"https://api.themoviedb.org/3/search/movie?api_key=1b5adf76a72a13bad99b8fc0c68cb085&query=\" + searchTerm;\n      $.ajax({\n        url: urls,\n        success: function success(searchResults) {\n          console.log(\"Fetched data successfully\"); //console.log(searchResults)\n          // const result = searchResults.Search\n\n          var result = searchResults.results;\n          var movierows = [];\n          result.forEach(function (movie) {\n            // const movielink = 'https://www.imdb.com/title/' + movie.imdbID\n            movie.poster_src = \"https://image.tmdb.org/t/p/w185\" + movie.poster_path;\n            var movierow = React.createElement(SearchData, {\n              movie: movie,\n              key: movie.id,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 36\n              },\n              __self: this\n            });\n            movierows.push(movierow);\n          });\n\n          _this2.setState({\n            row: movierows\n          });\n        },\n        error: function error(xhr, status, err) {\n          console.error(\"Failed to fetch data\");\n        }\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this3 = this;\n\n      var apikey = \"9347ea3310e2b25bb6d5eab69e5caca8\";\n      var apiUrl = \"https://api.themoviedb.org/3/discover/movie?api_key=\".concat(apikey);\n      fetch(apiUrl).then(function (res) {\n        return res.json();\n      }).then(function (data) {\n        _this3.setState({\n          movies: data.results\n        });\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    }\n  }, {\n    key: \"searchChangeHandler\",\n    value: function searchChangeHandler(event) {\n      console.log(event.target.value);\n      var boundObject = this;\n      var searchTerm = event.target.value;\n      boundObject.performSearch(searchTerm);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var movies = this.state.movies;\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"row card grey darken-3\",\n        style: {\n          padding: \"10px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        className: \"container\",\n        onSubmit: this.performSearch,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"col s12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"input-field col s12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        class: \"material-icons prefix fa fa-search \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"text\",\n        onChange: this.searchChangeHandler,\n        className: \"white-text\",\n        placeholder: \"Search Movies and Tv shows\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }))))))), React.createElement(\"div\", {\n        className: \"popular\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, movies.map(function (movie) {\n        return React.createElement(\"div\", {\n          key: movie.id,\n          className: \"popularMovies white-text  \",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 98\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          src: image + movie.poster_path,\n          alt: \"\",\n          onClick: function onClick() {\n            return _this4.props.history.push(\"/movie/\" + movie.id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100\n          },\n          __self: this\n        }), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105\n          },\n          __self: this\n        }, movie.original_title));\n      }), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return Home;\n}(Component);\n/*const mapStateToProps = state => {\r\n  return {\r\n    allMovies: state.allstaff\r\n  };\r\n};*/\n\n\nexport default connect(mapStateToProps)(Home);","map":{"version":3,"sources":["C:/Users/zaki/Desktop/Node p/movie-app/src/components/homePage/Home.jsx"],"names":["React","Component","connect","M","SearchMovie1","image","Home","state","movies","searchTerm","console","log","urls","$","ajax","url","success","searchResults","result","results","movierows","forEach","movie","poster_src","poster_path","movierow","id","push","setState","row","error","xhr","status","err","apikey","apiUrl","fetch","then","res","json","data","catch","event","target","value","boundObject","performSearch","padding","searchChangeHandler","map","props","history","original_title","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./homePage.scss\";\r\nimport { connect } from \"react-redux\";\r\nimport 'materialize-css/dist/css/materialize.min.css';\r\nimport M from 'materialize-css';\r\nimport { SearchMovie1 } from \"../redux/actions/actions\";\r\n\r\nconst image = \"https://image.tmdb.org/t/p/w500\";\r\n\r\nclass Home extends Component {\r\n  state = {\r\n    movies: []\r\n  };\r\n\r\n\r\nperformSearch(searchTerm) {\r\n    console.log(\"its working yo\")\r\n    // const urls = \"http://www.omdbapi.com/?i=tt3896198&apikey=b5a67d6c&s=\" + searchTerm\r\n    const urls = \"https://api.themoviedb.org/3/search/movie?api_key=1b5adf76a72a13bad99b8fc0c68cb085&query=\" + searchTerm\r\n    $.ajax({\r\n      url: urls,\r\n      success: (searchResults) => {\r\n        console.log(\"Fetched data successfully\")\r\n        //console.log(searchResults)\r\n        // const result = searchResults.Search\r\n        const result = searchResults.results\r\n\r\n\r\n        var movierows = []\r\n\r\n        result.forEach((movie) => {\r\n          // const movielink = 'https://www.imdb.com/title/' + movie.imdbID\r\n          movie.poster_src = \"https://image.tmdb.org/t/p/w185\" + movie.poster_path\r\n\r\n\r\n          const movierow = <SearchData movie={movie} key={movie.id} />\r\n\r\n          movierows.push(movierow)\r\n\r\n\r\n\r\n        })\r\n        this.setState({ row: movierows })\r\n\r\n      },\r\n      error: (xhr, status, err) => {\r\n        console.error(\"Failed to fetch data\")\r\n      }\r\n    })\r\n  }\r\n\r\n\r\n  componentDidMount() {   \r\n\r\n    const apikey = \"9347ea3310e2b25bb6d5eab69e5caca8\";\r\n    const apiUrl = `https://api.themoviedb.org/3/discover/movie?api_key=${apikey}`;\r\n\r\n    fetch(apiUrl)\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        this.setState({\r\n          movies: data.results\r\n        });\r\n      })\r\n      .catch(err => console.log(err));\r\n  }\r\n\r\n  searchChangeHandler(event) {\r\n    console.log(event.target.value)\r\n    const boundObject = this\r\n    const searchTerm = event.target.value\r\n    boundObject.performSearch(searchTerm)\r\n  }\r\n  render() {\r\n    const { movies } = this.state;\r\n\r\n    return (\r\n      <React.Fragment>\r\n      <div className=\"container\">\r\n        <div class=\"row card grey darken-3\" style={{padding:\"10px\"}}>\r\n        <form className=\"container\" onSubmit={this.performSearch}>\r\n    <div class=\"col s12\">\r\n      <div class=\"row\">\r\n        <div class=\"input-field col s12\">\r\n          <i class=\"material-icons prefix fa fa-search \"></i>\r\n          <input type=\"text\" onChange={this.searchChangeHandler} className=\"white-text\" placeholder=\"Search Movies and Tv shows\" />\r\n          \r\n        </div>\r\n      </div>\r\n    </div>\r\n    </form>\r\n  </div>\r\n      </div>\r\n\r\n\r\n      <div className=\"popular\">\r\n        {movies.map(movie => (\r\n          <div key={movie.id} className=\"popularMovies white-text  \">\r\n            \r\n            <img\r\n              src={image + movie.poster_path}\r\n              alt=\"\"\r\n              onClick={() => this.props.history.push(\"/movie/\" + movie.id)}\r\n            />\r\n            <p>{movie.original_title}</p>\r\n          </div>\r\n        ))}\r\n        <p></p>\r\n      </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\n/*const mapStateToProps = state => {\r\n  return {\r\n    allMovies: state.allstaff\r\n  };\r\n};*/\r\n\r\nexport default connect(mapStateToProps)(Home);\r\n"]},"metadata":{},"sourceType":"module"}